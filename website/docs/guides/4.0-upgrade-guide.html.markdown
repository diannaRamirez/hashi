---
layout: "azurerm"
page_title: "Azure Resource Manager: 4.0 Upgrade Guide"
description: |-
Azure Resource Manager: 4.0 Upgrade Guide

---

# AzureRM Provider

## AzureRM Provider Version v4.0

The last major release for the AzureRM provider was in March 2022. Since then we've added support for nearly TODO

### Considerations

Version 4.0 of the AzureRM Provider is a major release and includes breaking changes which are outlined in this document.

When upgrading to version 4.0 of the AzureRM Provider, we recommend upgrading to the latest version of Terraform Core ([which can be found here](https://www.terraform.io/downloads)).

### Pinning your Provider Version

We recommend pinning the version of each Provider you use in Terraform - you can do this using the `version` attribute within the `required_providers` block, either to a specific version of the AzureRM Provider, like so:

```hcl
terraform {
  required_providers {
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "=3.114.0"
    }
  }
}

provider "azurerm" {
  features {}
}
```

.. or to any 3.x release:

```hcl
terraform {
  required_providers {
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 3.x"
    }
  }
}

provider "azurerm" {
  features {}
}
```

More information on [how to pin the version of a Terraform Provider being used can be found on the Terraform Website](https://www.terraform.io/language/providers/requirements#requiring-providers).

---


## What's available in Version 4.0 of the AzureRM Provider?

-> **Note:** Version `3.114.0`-`3.115.0` of the AzureRM provider allows you to opt-into the Beta of some of these features - [read the Disclaimers in the Beta guide before doing this](https://registry.terraform.io/providers/hashicorp/azurerm/3.114.0/docs/guides/4.0-beta)

Below is an overview of the changes coming 4.0. Each topic is covered in more detail further down.

* [Improved Resource Provider Registration](#improved-resource-provider-registration)
* [Provider Functions](#provider-functions)
* [Additional Properties for Subnets in the Virtual Network Resource](#additional-properties-for-subnets-in-the-virtual-network-resource)
* [Better consistency in emptying or removing Lists and Blocks](#better-consistency-in-emptying-or-removing-lists-and-blocks)
* [Removed Resources](#removed-resources)
* [Removed Data Sources](#removed-data-sources)
* [Breaking Changes in Resources](#behaviour-changes-and-removed-properties-in-resources)
* [Breaking Changes in Data Sources](#behaviour-changes-and-removed-properties-in-data-sources)

## Improved Resource Provider Registration

Previously the AzureRM Provider had an all(*) or nothing approach to Azure Resource Provider (RP) registration, where the provider would either attempt to register a set of 68 RPs upon provider initialization, or RP registration could be skipped entirely by setting `skip_provider_registration = true` in the provider block.

The inflexibility of this method has been a pain point and is also at odds with the recommendations from Microsoft, which is to only register RPs as needed.

RP registration in 4.0 has been revamped to provide users with more control over which RPs to automatically register or whether to continue managing RP registration outside of the provider.

We've introduced two new feature flags in the provider block:

* `resource_provider_registrations` - This has 5 possible modes which are detailed below, that determine the set of RPs to automatically register on the subscription.
    * `core` - A minimal set of RPs that are deemed necessary for a subscription, the list of RPs in this set can be found [here](TODO link to section in code?)
    * `extended` - An expanded set of RPs as suggested by the community, the list of RPs in this set can be found [here](TODO link to section in code?)
    * `all` - A complete set of RPs that might be needed to utilize any functionality in the provider, the list of RPs in this set can be found [here](TODO link to section in code?)
    * `none` - No resource providers should be automatically registered, this is equivalent to setting `skip_provider_registration = true`
    * `legacy` - A set of automatically registered RPs from earlier versions of the provider, this is only provided for forwards compatibility and will be removed in a future major version release, the list of RPs in this set can be found [here](TODO link to section in code?)

* `resource_providers_to_register` - A custom list of RPs to explicitly register for the subscription, in addition to those specified by the `resource_provider_registrations` property

Below are examples of how the two properties can be used.

Only register a minimal set of `core` RPs on the subscription
```hcl
provider "azurerm" {
    resource_provider_registrations = "core"
}
```

Register a set of specific RPs in addition to the `core` RPs on the subscription
```hcl
provider "azurerm" {
    resource_provider_registrations = "core"

    resource_providers_to_register = [
        "Microsoft.ContainerService",
        "Microsoft.KeyVault",
    ]
}
```

Only register a custom set of RPs defined under `resource_providers_to_register` on the subscription.
```hcl
provider "azurerm" {
    resource_provider_registrations = "none"

    resource_providers_to_register = [
        "Microsoft.ApiManagement",
        "Microsoft.Compute",
        "Microsoft.KeyVault",
        "Microsoft.Network",
        "Microsoft.Storage",
    ]
}
```

(*)all in this case refers to the arbitrary list of Resource Providers that was used for registration

## Provider Functions

TODO

## Additional Properties for Subnets in the Virtual Network Resource

The `subnet` block within the `azurerm_virtual_network_resource` has been updated to include the following new properties:

* `default_outbound_access_enabled`
* `delegation`
* `private_endpoint_network_policies`
* `private_link_service_network_policies_enabled`
* `route_table_id`
* `service_endpoints`
* `service_endpoint_policy_ids`

When upgrading to 4.0, users may receive a warning that the resource needs to be replaced, this should however just be an update in-place.

## Better consistency in emptying or removing Lists and Blocks

Several older resources that can be specified separately as their own standalone resource, or in-line of a parent resource have historically relied on being both `Optional` and `Computed` in the parent resource to function, whereas newer resources of this nature require a more explicit approach of using `ignore_changes`.

An example of this is the `subnet` block within `azurerm_virtual_network_resource`, which can also be specified by the resource `azurerm_subnet`. Older resources containing this nature of dependency have been updated to conform to with the present pattern of using `ignore_changes` on the appropriate properties.

This has also allowed the removal of several instances of `ConfigModeAttr` which was a temporary means of enabling users to set Lists and Blocks back to an empty value by using attribute notation e.g. `subnet = []`. With the removal of `ConfigModeAttr`, these properties will behave as other blocks throughout the provider do.

The following resources and properties have been affected by this change:

### `azurerm_automation_runbook`

* `job_schedule` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_batch_pool`

* `container_configuration` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_container_group`

* `exposed_port` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_container_registry`

* `encryption` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `network_rule_set` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `network_rule_set.ip_rule` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_kubernetes_cluster`

TODO move these down to the other section
* `network_profile.load_balancer_profile.outbound_ip_prefix_ids` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `network_profile.load_balancer_profile.outbound_ip_address_ids` has had `Computed` 

### `azurerm_eventgrid_domain`

* `inbound_ip_rule` has had `ConfigModeAttr` removed, attribute notation can no longer be used.

### `azurerm_eventgrid_topic`

* `inbound_ip_rule` has had `ConfigModeAttr` removed, attribute notation can no longer be used.

### `azurerm_kusto_cluster`

* `trusted_external_tenants` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_logic_standard_app`

* `ip_restriction` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `ip_restriction.headers` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `scm_ip_restriction` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `scm_ip_restriction.headers` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_network_security_group`

* `security_rule` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_route_filter`

* `rule` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_route_table`

* `route` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.

### `azurerm_site_recovery_replicated_vm`

* `network_interface` has had `Computed` and `ConfigModeAttr` removed, attribute notation can no longer be used. If you experience a diff as a result of this change you may need to add this to `ignore_changes`.
* `unmanaged_disk` has had `ConfigModeAttr` removed, attribute notation can no longer be used.
* `managed_disk` has had `ConfigModeAttr` removed, attribute notation can no longer be used.
* `managed_disk.target_disk_encryption` has had `ConfigModeAttr` removed, attribute notation can no longer be used.
* `managed_disk.target_disk_encryption.disk_encryption_key` has had `ConfigModeAttr` removed, attribute notation can no longer be used.
* `managed_disk.target_disk_encryptionkey_encryption_key` has had `ConfigModeAttr` removed, attribute notation can no longer be used.
* 
## Removed Resources

### `azurerm_cdn_frontdoor_route_disable_link_to_default_domain`

This deprecated resource has been superseded by the `link_to_default_domain` property in the `azurerm_cdn_frontdoor_route` resource and has been removed from the AzureRM provider.

### `azurerm_cosmosdb_notebook_workspace`

This deprecated resource has been removed from the AzureRM provider.

### `azurerm_dashboard`

This deprecated resource has been superseded by `azurerm_portal_dashboard` and has been removed from the AzureRM provider.

### `azurerm_databox_edge_order`

Creation of DataBox Edge Orders are not supported by the Azure API, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_databricks_workspace_customer_managed_key`

This deprecated resource has been removed in favour of the `azurerm_databricks_workspace_root_dbfs_customer_managed_key` resource and has been removed from the AzureRM provider.

### `azurerm_data_factory_integration_runtime_managed`

This deprecated resource has been superseded by `azurerm_data_factory_integration_runtime_azure_ssis` and has been removed from the AzureRM provider.

### `azurerm_disk_pool_iscsi_target_lun`

This deprecated resource has been removed from the AzureRM provider.

### `azurerm_disk_pool_iscsi_target`

This deprecated resource has been removed from the AzureRM provider.

### `azurerm_disk_pool_managed_disk_attachment`

This deprecated resource has been removed from the AzureRM provider.

### `azurerm_disk_pool`

This deprecated resource has been removed from the AzureRM provider.

### `azurerm_graph_account`

This deprecated resource has been superseded by `azurerm_graph_services_account` and has been removed from the AzureRM provider.

### `azurerm_iot_time_series_insights_access_policy`

This Azure Service will be retired on 2025-03-31, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_iot_time_series_insights_event_source_eventhub`

This Azure Service will be retired on 2025-03-31, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_iot_time_series_insights_event_source_iothub`

This Azure Service will be retired on 2025-03-31, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_iot_time_series_insights_gen2_environment`

This Azure Service will be retired on 2025-03-31, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_iot_time_series_insights_reference_data_set`

This Azure Service will be retired on 2025-03-31, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_iot_time_series_insights_standard_environment`

This Azure Service will be retired on 2025-03-31, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_integrated_service_environment`

This Azure Service is being retired on 2024-08-31 and the provisioning of new instances has been blocked since 2022-11-01, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_logz_monitor`

This Azure Service is being retired and the provisioning of new instances has been blocked, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_logz_sub_account`

This Azure Service is being retired and the provisioning of new instances has been blocked, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_logz_sub_account_tag_rule`

This Azure Service is being retired and the provisioning of new instances has been blocked, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_logz_tag_rule`

This Azure Service is being retired and the provisioning of new instances has been blocked, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_mariadb_configuration`

The Azure Database for Maria DB will be retired on 2024-09-19 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server_configuration` and has been removed from the AzureRM provider.

### `azurerm_mariadb_database`

The Azure Database for Maria DB will be retired on 2024-09-19 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_database` and has been removed from the AzureRM provider.

### `azurerm_mariadb_firewall_rule`

The Azure Database for Maria DB will be retired on 2024-09-19 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server_firewall_rule` and has been removed from the AzureRM provider.

### `azurerm_mariadb_server`

The Azure Database for Maria DB will be retired on 2024-09-19 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server` and has been removed from the AzureRM provider.

### `azurerm_mariadb_virtual_network_rule`

The Azure Database for Maria DB will be retired on 2024-09-19 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been removed from the AzureRM provider.

### `azurerm_media_asset_filter`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_asset`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_content_key_policy`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_job`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_live_output`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_services_account_filter`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_services_account`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_streaming_endpoint`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_streaming_live_event`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_streaming_ locator`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_streaming_policy`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_media_transform`

[Azure Media Services will be retired June 30th, 2024](https://learn.microsoft.com/en-us/azure/media-services/latest/azure-media-services-retirement), as a result this deprecated resource has been removed from the provider.

### `azurerm_monitor_action_rule_action_group`

This deprecated resource has been superseded by `azurerm_monitor_alert_processing_rule_action_group` and has been removed from the AzureRM provider.

### `azurerm_monitor_action_rule_suppression`

This deprecated resource has been superseded by `azurerm_monitor_alert_processing_rule_suppression` and has been removed from the AzureRM provider.

### `azurerm_monitor_log_profile`

Azure Log Profile will be retired on 30th September 2026, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_mysql_active_directory_administrator`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server_active_directory_administrator` and has been removed from the AzureRM provider.

### `azurerm_mysql_configuration`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server_configuration` and has been removed from the AzureRM provider.

### `azurerm_mysql_database`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_database` and has been removed from the AzureRM provider.

### `azurerm_mysql_firewall_rule`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server_firewall_rule` and has been removed from the AzureRM provider.

### `azurerm_mysql_server_key`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by the `customer_managed_key` block in the `azurerm_mysql_flexible_server` resource and has been removed from the AzureRM provider.

### `azurerm_mysql_server`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been superseded by `azurerm_mysql_flexible_server` and has been removed from the AzureRM provider.

### `azurerm_mysql_virtual_network_rule`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this resource has been removed from the AzureRM provider.

### `azurerm_network_packet_capture`

This deprecated resource has been superseded by `azurerm_virtual_machine_packet_capture` and `azurerm_virtual_machine_scale_set_packet_capture` and has been removed from the AzureRM provider.

### `azurerm_template_deployment`

This deprecated resource has been superseded by `azurerm_resource_group_template_deployment` and has been removed from the AzureRM provider.

### `azurerm_security_center_server_vulnerability_assessment`

This deprecated resource has been superseded by `azurerm_security_center_server_vulnerability_assessment_virtual_machine` and has been removed from the AzureRM provider.

### `azurerm_servicebus_namespace_network_rule_set`

This deprecated resource has been superseded by the `network_rule_set` block in the `azurerm_servicebus_namespace` resource and has been removed from the AzureRM provider.

### `azurerm_sql_active_directory_administrator`

This deprecated resource has been superseded by the `azuread_administrator` block in the `azurerm_mssql_server` resource and has been removed from the AzureRM provider.

### `azurerm_sql_database`

This deprecated resource has been superseded by `azurerm_mssql_database` and has been removed from the AzureRM provider.

### `azurerm_sql_elasticpool_resource`

This deprecated resource has been superseded by `azurerm_mssql_elasticpool` and has been removed from the AzureRM provider.

### `azurerm_sql_failover_group`

This deprecated resource has been superseded by `azurerm_mssql_failover_group` and has been removed from the AzureRM provider.

### `azurerm_sql_firewall_rule`

This deprecated resource has been superseded by `azurerm_mssql_firewall_rule` and has been removed from the AzureRM provider.

### `azurerm_sql_managed_database`

This deprecated resource has been superseded by `azurerm_mssql_managed_database` and has been removed from the AzureRM provider.

### `azurerm_sql_managed_instance_active_directory_administrator`

This deprecated resource has been superseded by `azurerm_mssql_managed_instance_active_directory_administrator` and has been removed from the AzureRM provider.

### `azurerm_sql_managed_instance_failover_group`

This deprecated resource has been superseded by `azurerm_mssql_managed_instance_failover_group` and has been removed from the AzureRM provider.

### `azurerm_sql_managed_instance`

This deprecated resource has been superseded by `azurerm_mssql_managed_instance` and has been removed from the AzureRM provider.

### `azurerm_sql_server`

This deprecated resource has been superseded by `azurerm_mssql_server` and has been removed from the AzureRM provider.

### `azurerm_sql_virtual_network_rule`

This deprecated resource has been superseded by `azurerm_mssql_virtual_network_rule` and has been removed from the AzureRM provider.

### `azurerm_video_analyzer_edge_module`

The Azure Service Video Analyzer will be retired on 2022-11-30, as a result this deprecated resource has been removed from the AzureRM provider.

### `azurerm_video_analyzer`

The Azure Service Video Analyzer will be retired on 2022-11-30, as a result this deprecated resource has been removed from the AzureRM provider.

## Removed Data Sources

### `azurerm_hybrid_compute_machine`

The deprecated data source has been superseded by `azurerm_arc_machine` and has been removed from the AzureRM provider.

### `azurerm_mariadb_server`

The Azure Database for Maria DB will be retired on 2024-09-19 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this data source has been superseded by `azurerm_mysql_flexible_server` and has been removed from the AzureRM provider.

### `azurerm_monitor_log_profile`

Azure Log Profile will be retired on 30th September 2026, as a result this deprecated data source has been removed from the AzureRM provider.

### `azurerm_mysql_server`

The Azure Database for MySQL Single Server will be retired on 2024-09-16 and will migrate to using the Azure Database for MySQL Flexible Server, as a result this data source has been superseded by `azurerm_mysql_flexible_server` and has been removed from the AzureRM provider.

### `azurerm_sql_database`

The deprecated data source has been superseded by `azurerm_mssql_database` and has been removed from the AzureRM provider.

### `azurerm_sql_managed_instance`

The deprecated data source has been superseded by `azurerm_mssql_managed_instance` and has been removed from the AzureRM provider.

### `azurerm_sql_server`

The deprecated data source has been superseded by `azurerm_mssql_server` and has been removed from the AzureRM provider.

## Behaviour changes and removed properties in Resources

### `azurerm_analysis_services_server`

 * The deprecated property `enable_power_bi_service` has been removed in favour of the property `power_bi_service_enabled`.
 * The property `querypool_connection_mode` now defaults to `All`.

### `azurerm_api_management_api`

* The deprecated property `soap_pass_through` has been removed in favour of the property `api_type`.

### `azurerm_api_management`

* The deprecated block `policy` has been removed in favour of the `azurerm_api_management_policy` resource.

### TODO Some App Service Resources and Data Sources

* The deprecated property `docker_image_tag` has been removed.
* The deprecated property `docker_image` has been removed.
* The deprecated property `slow_request.path` has been removed in favour of the `slow_request_with_path` block.

### `azurerm_attestation_provider`

* The deprecated block `policy` has been removed in favour of the `open_enclave_policy_base64`, `sgx_enclave_policy_base64`, `tpm_policy_base64` and `sev_snp_policy_base64` properties.

### `azurerm_automation_account`

* The deprecated property `encryption.key_source` has been removed.

### `azurerm_automation_software_update_configuration`

* TODO

### `azurerm_bot_channel_web_chat`

* The deprecated property `site_names` has been removed in favour of the `site` property.

### `azurerm_bot_channels_registration`

* The deprecated property `isolated_network_enabled` has been removed in favour of the `public_network_access_enabled` property.

### `azurerm_bot_connection`

* The deprecated property `tags` has been removed.

### `azurerm_cdn_endpoint_custom_domain`

* The deprecated property `user_managed_https.key_vault_certificate_id` has been removed in favour of the `user_managed_https.key_vault_secret_id` property.

### `azurerm_cdn_frontdoor_origin`

* The deprecated property `health_probes_enabled` has been removed in favour of the `enabled` property.

### TODO Compute

### `azurerm_consumption_budget_management_group`

* The deprecated block `filter.not` has been removed.

### `azurerm_consumption_budget_resource_group`

* The deprecated block `filter.not` has been removed.

### `azurerm_consumption_budget_subscription`

* The deprecated block `filter.not` has been removed.

### TODO ContainerApps

### `azurerm_container_group`

* The deprecated property `network_profile_id` has been removed in favour of the `subnet_ids` property.
* The deprecated block `container.gpu` has been removed.
* The deprecated block `container.gpu_limit` has been removed.

### `azurerm_container_registry`

* The deprecated property `encryption.enabled` has been removed. Encryption can be toggled on and off through the presence and absence of the `encryption` block in the configuration.
* The deprecated block `retention_policy` has been removed in favour of the property `retention_policy_in_days`.
* The deprecated block `trust_policy` has been removed in favour of the property `trust_policy_enabled`.
* The deprecated block `network_rule_set.virtual_network` has been removed.

### `azurerm_dashboard_grafana`

* The property `grafana_major_version` is now Required.

### `azurerm_kubernetes_cluster`

* The deprecated property `enable_pod_security_policy` has been removed.
* The deprecated property `network_profile.ebpf_data_plane` has been removed in favour of the property `network_profile.network_data_plane`.
* The deprecated property `api_server_authorized_ip_ranges` has been removed in favour of the property `api_server_access_profile.authorized_ip_ranges`.
* The deprecated property `network_profile.docker_bridge_cidr` has been removed.
* The deprecated property `azure_active_directory_role_based_access_control.client_app_id` has been removed.
* The deprecated property `azure_active_directory_role_based_access_control.server_app_id` has been removed.
* The deprecated property `azure_active_directory_role_based_access_control.server_app_secret` has been removed.
* The deprecated property `azure_active_directory_role_based_access_control.managed` has been removed.
* The deprecated property `workload_autoscaler_profile.vertical_pod_autoscaler_update_mode` has been removed.
* The deprecated property `workload_autoscaler_profile.vertical_pod_autoscaler_controlled_values` has been removed.
* The deprecated property `web_app_routing.dns_zone_id` has been removed in favour of the `web_app_routing.dns_zone_ids` property.
* The deprecated property `public_network_access_enabled` has been removed.
* The deprecated property `default_node_pool.node_taints` has been removed.
* The property `automatic_channel_upgrade` has been renamed to `automatic_upgrade_channel`.
* The property `node_os_channel_upgrade` has been renamed to `node_os_upgrade_channel`.
* The property `default_node_pool.enable_auto_scaling` has been renamed to `default_node_pool.auto_scaling_enabled`.
* The property `default_node_pool.enable_node_public_ip` has been renamed to `default_node_pool.node_public_ip_enabled`.
* The property `default_node_pool.enable_host_encryption` has been renamed to `default_node_pool.host_encryption_enabled`.
* The property `image_cleaner_interval_hours` now defaults to `0` and will only be set if `image_cleaner_enabled` has been set to `true`.

### `azurerm_kubernetes_fleet_manager`

* The deprecated block `hub_profile` has been removed.

### `azurerm_kubernetes_cluster_node_pool`

* The deprecated property `node_taints` has been removed.
* The property `enable_auto_scaling` has been renamed to `auto_scaling_enabled`.
* The property `enable_node_public_ip` has been renamed to `node_public_ip_enabled`.
* The property `enable_host_encryption` has been renamed to `host_encryption_enabled`.

### `azurerm_cosmosdb_account`

* The deprecated property `connection_strings` has been removed in favour of the primary and secondary connection strings for sql, mongodb and readonly properties.
* The deprecated property `enable_multiple_write_locations` has been removed in favour of the `multiple_write_locations_enabled` property.
* The deprecated property `enable_free_tier` has been removed in favour of the `free_tier_enabled` property.
* The deprecated property `enable_automatic_failover` has been removed in favour of the `automatic_failover_enabled` property.

### `azurerm_cosmosdb_sql_container`

* The deprecated property `partition_key_path` has been removed in favour of the `partition_key_paths` property.

### `azurerm_data_protection_backup_policy_blob_storage`

* The deprecated property `retention_duration` has been removed in favour of the `operational_default_retention_duration` property.

### `azurerm_dev_test_lab`

* The deprecated property `storage_type` has been removed.

### `azurerm_hdinsight_kafka_cluster`

* The deprecated property `roles.kafka_management_node` has been removed.

### `azurerm_key_vault_managed_hardware_security_module_role_assignment`

* The deprecated property `vault_base_url` has been removed in favour of the `managed_hsm_id` property.

### `azurerm_kusto_cluster`

* The deprecated property `engine` has been removed.

### `azurerm_lb`

* The property `sku` now defaults to `Standard`.

### `azurerm_machine_learning_compute_instance`

* The deprecated property `location` has been removed.

### `azurerm_machine_learning_workspace`

* The deprecated property `public_access_behind_virtual_network_enabled` has been removed in favour of the `public_network_access_enabled` property.
* The `managed_network` block is no longer `Computed`, users will need to add this block to `ignore_changes` if they do not wish to explicitly configure it.

### `azurerm_managed_applications`

* The deprecated property `parameters` has been removed in favour of the `parameter_values` property.

### `azurerm_monitor_aad_diagnostic_setting`

* The deprecated block `log` has been removed in favour of the `enabled_log` block.

### `azurerm_monitor_action_group`

* The deprecated property `event_hub_receiver.event_hub_id` has been removed in favour of the `event_hub_receiver.event_hub_name` and `event_hub_receiver.event_hub_namespace` properties.

### `azurerm_monitor_diagnostic_categories`

* The deprecated property `logs` will be removed in favour of the `log_category_types` property.

### `azurerm_monitor_diagnostic_setting`

* The deprecated `enabled_log.retention_policy` block has been removed in favour of the `azurerm_storage_management_policy` resource.
* The deprecated `metric.retention_policy` block has been removed in favour of the `azurerm_storage_management_policy` resource.
* The deprecated `log` block has been removed in favour of the `enabled_log` block.

### `azurerm_network_connection_monitor`

* The property `output_workspace_resource_ids` is no longer `Computed`. 

### `azurerm_network_interface`

* The property `dns_servers` is not longer `Computed`.
* The deprecated property `enable_accelerated_networking` has been removed in favour of the `accelerated_networking_enabled` property.
* The deprecated property `enable_ip_forwarding` has been removed in favour of the `ip_forwarding_enabled` property.

### `azurerm_route_table`

* The deprecated property `disable_bgp_route_propagation` has been removed in favour of the `bgp_route_propagation_enabled` property.

### `azurerm_subnet`

* The block `actions` has become a Set instead of a List, meaning that the order of these items no longer matters. If you're referencing these items within your Terraform Configuration, then this may require some code changes.
* The deprecated property `private_endpoint_network_policies_enabled` has been removed in favour of the `private_endpoint_network_policies` property.
* The deprecated property `enforce_private_link_endpoint_network_policies` has been removed in favour of the `private_endpoint_network_policies` property.
* The deprecated property `enforce_private_link_service_network_policies` has been removed in favour of the `private_link_service_network_policies_enabled` property.

### `azurerm_virtual_network_gateway_connections`

* The property `shared_key` has become `Required`.

### `azurerm_vpn_gateway_nat_rule`

* The deprecated property `external_address_space_mappings` has been removed in favour of the `external_mapping` property.
* The deprecated property `internal_address_space_mappings` has been removed in favour of the `internal_mapping` property.
* The deprecated property `resource_group_name` has been removed in favour of the `vpn_gateway_id` property.

### `azurerm_web_application_firewall_policy`

* The deprecated property `managed_rules.managed_rule_set.rule_group_override.disabled_rules` has been removed in favour of the `managed_rules.managed_rule_set.rule_group_override.rule` block.

### `azurerm_nginx_deployment`

* The deprecated block `configuration` has been removed in favour of the `azurerm_nginx_configuration` resource.

### `azurerm_management_group_policy_remediation`

* The deprecated property `policy_definition_id` has been removed in favour of the `policy_definition_reference_id` property.
* The deprecated property `resource_discovery_mode` has been removed.

### `azurerm_resource_policy_remediation`

* The deprecated property `policy_definition_id` has been removed in favour of the `policy_definition_reference_id` property.

### `azurerm_resource_group_policy_remediation`

* The deprecated property `policy_definition_id` has been removed in favour of the `policy_definition_reference_id` property.

### `azurerm_stream_analytics_job`

* The property `data_locale` now defaults to `en-US`.

### `azurerm_subscription_policy_remediation`

* The deprecated property `policy_definition_id` has been removed in favour of the `policy_definition_reference_id` property.

### `azurerm_recovery_services_vault_resource_guard_association`

* The deprecated property `name` has been removed.

### `azurerm_recovery_services_site_recovery_replicated_vm`

* The deprecated property `is_primary` has been removed.

### `azurerm_site_recovery_replication_recovery_plan`

* The deprecated block `recovery_group` has been removed in favour of the `shutdown_recovery_group`, `failover_recovery_group` and `boot_recovery_group` properties.

### `azurerm_sentinel_alert_rule_schedules`

* The deprecated block `incident_configuration` has been removed in favour of the `incident` block.
* The deprecated property `incident_configuration.create_incident` has been removed in favour of the `incident.create_incident_enabled` property.
* The deprecated property `incident_configuration.group_by_entities` has been removed in favour of the `incident.by_entities` property.
* The deprecated property `incident_configuration.group_by_alert_details` has been removed in favour of the `incident.by_alert_details` property.
* The deprecated property `incident_configuration.group_by_custom_details` has been removed in favour of the `incident.by_custom_details` property.

### `azurerm_sentinel_automation_rule`

* The deprecated property `condition` has been removed in favour of the `condition_json` property.

### `azurerm_sentinel_data_connector_microsoft_threat_intelligence`

* The deprecated property `bing_safety_phishing_url_lookback_date` has been removed.

### `azurerm_sentinel_log_analytics_workspace_onboard_resource`

* The deprecated property `name` has been removed in favour of the `workspace_id` property.
* The deprecated property `resource_group_name` has been removed in favour of the `workspace_id` property.

### `azurerm_servicebus_queue`

* The deprecated property `enable_batched_operations` has been removed in favour of the `batched_operations_enabled` property.
* The deprecated property `enable_express` has been removed in favour of the `express_enabled` property.
* The deprecated property `enable_partitioning` has been removed in favour of the `partitioning_enabled` property.

### `azurerm_servicebus_subscription`

* The deprecated property `enable_batched_operations` has been removed in favour of the `batched_operations_enabled` property.

### `azurerm_servicebus_topic`

* The deprecated property `enable_batched_operations` has been removed in favour of the `batched_operations_enabled` property.
* The deprecated property `enable_express` has been removed in favour of the `express_enabled` property.
* The deprecated property `enable_partitioning` has been removed in favour of the `partitioning_enabled` property.

### `azurerm_signalr_service`

* The deprecated property `live_trace_enabled` has been removed in favour of the `live_trace` property.

### `azurerm_storage_share_directory`

* The deprecated property `share_name` has been removed in favour of the `storage_share_id` property.
* The deprecated property `storage_account_name` has been removed in favour of the `storage_share_id` property.

### `azurerm_storage_table_entity`

* The deprecated property `table_name` has been removed in favour of the `storage_table_id` property.
* The deprecated property `storage_account_name` has been removed in favour of the `storage_table_id` property.


### `azurerm_synapse_workspace`

* The deprecated block `aad_admin` has been removed in favour of the `azurerm_synapse_workspace_aad_admin` resource.
* The deprecated block `sqlsql_aad_admin` has been removed in favour of the `azurerm_synapse_workspace_sql_aad_admin` resource.

## Behaviour changes and removed properties in Data Sources

### `azurerm_cosmosdb_account`

* The deprecated property `connection_strings` has been removed in favour of the primary and secondary connection strings for sql, mongodb and readonly properties.
* The deprecated property `enable_multiple_write_locations` has been removed in favour of the `multiple_write_locations_enabled` property.
* The deprecated property `enable_free_tier` has been removed in favour of the `free_tier_enabled` property.
* The deprecated property `enable_automatic_failover` has been removed in favour of the `automatic_failover_enabled` property.

### `azurerm_kubernetes_cluster`

* The deprecated property `agent_pool_profile.enable_auto_scaling` has been removed in favour of the `agent_pool_profile.auto_scaling_enabled` property.
* The deprecated property `agent_pool_profile.enable_node_public_ip` has been removed in favour of the `agent_pool_profile.node_public_ip_enabled` property.
* The deprecated property `agent_pool_profile.enable_host_encryption` has been removed in favour of the `agent_pool_profile.host_encryption_enabled` property.
* The deprecated property `azure_active_directory_role_based_access_control.client_app_id` has been removed.
* The deprecated property `azure_active_directory_role_based_access_control.server_app_id` has been removed.
* The deprecated property `azure_active_directory_role_based_access_control.managed` has been removed.

### `azurerm_kubernetes_cluster_node_pool`

* The deprecated property `enable_auto_scaling` has been removed in favour of the `auto_scaling_enabled` property.
* The deprecated property `enable_node_public_ip` has been removed in favour of the `node_public_ip_enabled` property.

### `azurerm_monitor_action_group`

* The deprecated property `event_hub_receiver.event_hub_id` has been removed in favour of the `event_hub_receiver.event_hub_name` and `event_hub_receiver.event_hub_namespace` properties.

### `azurerm_monitor_diagnostic_categories`

* The deprecated property `logs` has been removed in favour of the `log_category_types` property.

### `azurerm_network_interface`

* The deprecated property `enable_accelerated_networking` has been removed in favour of the `accelerated_networking_enabled` property.
* The deprecated property `enable_ip_forwarding` has been removed in favour of the `ip_forwarding_enabled` property.

### `azurerm_subnet`

* The deprecated property `private_endpoint_network_policies_enabled` has been removed in favour of the `private_endpoint_network_policies` property.
* The deprecated property `enforce_private_link_endpoint_network_policies` has been removed in favour of the `private_endpoint_network_policies` property.
* The deprecated property `enforce_private_link_service_network_policies` has been removed in favour of the `private_link_service_network_policies_enabled` property.

### `azurerm_servicebus_namespace_authorization_rule`

* The deprecated property `namespace_name` has been removed in favour of the `namespace_id` property.
* The deprecated property `resource_group_name` has been removed in favour of the `namespace_id` property.

### `azurerm_servicebus_namespace_disaster_recovery_config`

* The deprecated property `namespace_name` has been removed in favour of the `namespace_id` property.
* The deprecated property `resource_group_name` has been removed in favour of the `namespace_id` property.

### `azurerm_servicebus_queue`

* The deprecated property `namespace_name` has been removed in favour of the `namespace_id` property.
* The deprecated property `resource_group_name` has been removed in favour of the `namespace_id` property.

### `azurerm_servicebus_subscription`

* The deprecated property `namespace_name` has been removed in favour of the `topic_id` property.
* The deprecated property `resource_group_name` has been removed in favour of the `topic_id` property.
* The deprecated property `topic_name` has been removed in favour of the `topic_id` property.

### `azurerm_servicebus_topic`

* The deprecated property `namespace_name` has been removed in favour of the `namespace_id` property.
* The deprecated property `resource_group_name` has been removed in favour of the `namespace_id` property.

